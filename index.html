<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <title>Prodatial</title>

   

    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }

      #layerToggle {
        top: 20px;
        right: 20px;
        position: absolute;
        z-index: 99;
        background-color: white;
        border-radius: 8px;
        padding: 10px;
        opacity: 0.75;
      }
    </style>
<script src="https://unpkg.com/finity/umd/Finity.min.js"></script>

    
  </head>

  <body>
    <script type="module">
    const worker = Finity
  .configure()
    .initialState('ready')
      .on('task_submitted').transitionTo('running')
    .state('running')
      .do((state, context) => processTaskAsync(context.eventPayload))
        .onSuccess().transitionTo('succeeded')
        .onFailure().transitionTo('failed')
      .onTimeout(1000)
        .transitionTo('timed_out')
    .global()
      .onStateEnter(state => console.log(`Entering state '${state}'`))
  .start();
      let machine = Finity.configure()
      .initialState("A")
      .on("next")
      .transitionTo("B")
      .state("B")
      .on("next")
      .transitionTo("A")
      .global()
      .onStateEnter((state)=>console.log(`Enter ${state}`))
      .onStateExit((state)=>console.log(`Exit ${state}`))
      .start();
      
                    machine.handle("next");
      machine.handle("next");
      
      
    </script>
  </body>
</html>
